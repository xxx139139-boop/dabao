# 大宝抖音AI托评助手 v2.0.0

> Chrome 扩展 | 抖音直播间 AI 智能评论 + 自动点赞工具

---

## 功能特性

### 🤖 AI 智能评论（核心功能）
- 接入**智谱 GLM-4.7** 推理大模型，自动生成真实感弹幕
- 自动抓取直播间**标题、主播名、标签、最近弹幕**等上下文信息
- 支持自定义 **AI 预设提示词**，可针对不同直播间内容灵活调整
- 按设定的**发送间隔**（默认90秒）定时发送，间隔带±20%随机波动
- 实时显示**已发送条数**和**上条评论内容**

### ❤️ 自动点赞
- 模拟真人双击直播视频点赞
- 可设置每分钟点赞次数范围（默认 20-50 次）
- 正态分布随机化，避免固定频率被检测

### 🛡️ 反检测机制（强化版）
- 隐藏 `navigator.webdriver` 标识
- 贝塞尔曲线鼠标轨迹模拟（三次贝塞尔 + 手部颤抖抖动）
- 正态分布随机延迟（Box-Muller 变换）
- 随机空闲鼠标微移（模拟用户自然行为）
- 随机弹幕区域轻微滚动
- 变速鼠标移动（ease-in-out）

---

## 安装方法

1. 打开 Chrome 浏览器，进入 `chrome://extensions/`
2. 开启右上角**开发者模式**
3. 点击**加载已解压的扩展程序**
4. 选择本项目文件夹（包含 `manifest.json` 的目录）
5. 扩展安装成功，图标出现在工具栏

---

## 使用方法

1. 打开任意抖音直播间：`https://live.douyin.com/xxx`
2. 点击页面左下角红色**「宝」**悬浮按钮，打开控制面板
3. **AI 智能评论**：
   - 根据需要修改 **AI 预设提示词**（已内置默认提示词）
   - 设置**发送间隔**（建议 60-180 秒）
   - 打开 **AI 智能评论**开关，系统将自动生成并发送评论
4. **自动点赞**：打开**自动点赞**开关即可
5. 点击**保存配置**保留设置

---

## 配置说明

| 配置项 | 默认值 | 说明 |
|--------|--------|------|
| 发送间隔 | 90 秒 | AI 评论发送间隔，实际间隔有 ±20% 随机波动 |
| 每分钟点赞次数 | 20-50 | 随机正态分布 |
| AI 预设提示词 | 内置 | 可根据直播内容自定义 |
| API Key | 已内置 | 智谱 GLM-4.7 API Key |

---

## 技术架构

```
douyin-ai-helper/
├── manifest.json          # 扩展配置（MV3）
├── src/
│   ├── background.js      # Service Worker（GLM API 代理）
│   └── content/
│       └── index.js       # 主脚本（所有功能集成）
│           ├── Storage        # 本地存储管理
│           ├── Logger         # 日志系统
│           ├── ElementFinder  # DOM 元素查找 + 直播信息抓取
│           ├── AntiDetection  # 反检测机制
│           ├── GLMClient      # 智谱 GLM-4.7 客户端
│           ├── AutoLike       # 自动点赞
│           ├── AIAutoComment  # AI 智能评论
│           ├── FloatingButton # 悬浮按钮
│           └── Sidebar        # 控制面板
└── icons/                 # 扩展图标
```

---

## 注意事项

- 本工具仅供学习研究，请遵守抖音平台使用规范
- 建议发送间隔不低于 60 秒，避免频率过高
- GLM-4.7 为推理模型，每次生成约消耗 1000-1200 tokens
- API Key 已内置，如需更换请在代码中修改 `aiApiKey` 字段

---

## 版本历史

- **v2.0.0** - 接入智谱 GLM-4.7，AI 智能评论，强化反检测
- **v1.0.0** - 基础自动点赞和手动评论功能
